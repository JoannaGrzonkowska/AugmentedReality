<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

    <!--  basic meta information -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Type" content="application/json; charset=utf-8">
    <meta content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=yes" name="viewport">

    <title>My ARchitect World</title>
    <script src="architect://architect.js"></script>
    <script src="../ade.js"></script>
    <!-- jquery mobile CSS -->
    <link rel="stylesheet" href="jquery/jquery.mobile-1.3.2.min.css" />
    <!-- required to set background transparent & enable "click through" -->
    <link rel="stylesheet" href="jquery/jquery-mobile-transparent-ui-overlay.css" />
    <link href="css/bootstrap.css" rel="stylesheet" />
    <!-- jquery JS files -->
    <script type="text/javascript" src="jquery/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="jquery/jquery.mobile-1.3.2.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <script src="js/knockout-3.3.0.debug.js"></script>
    <script src="js/knockout-3.3.0.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/Common.js"></script>
    <script src="js/customBindingHandlers.js"></script>


    <script src="js/App/Models/NoteModel.js"></script>
    <script src="js/App/Models/TypeModel.js"></script>
    <script src="js/App/Models/CategoryModel.js"></script>
    <script src="js/App/Services/NoteService.js"></script>

    <!-- marker representation-->
    <script src="js/marker.js"></script>
    <!-- World logic-->
    <script type="text/javascript" src="js/presentingdetails.js"></script>
</head>

<body>
    <div data-role="page" id="page1" style="background: none;">
        <div id="notes-container">
            <div>
                <span>Number of notes: </span><span data-bind="text: markerList().length"></span>
            </div>
            <div class="row">
                <select class="form-control input-lg col-xs-4" data-bind="foreach: categories, value: selectedCategoryId, select2: { width: '100%', placeholder: 'select category' }">
                    <option data-bind="text: Name(), value: CategoryId"></option>
                </select>

                <select class="form-control input-lg  col-xs-4" data-bind="foreach: types, value: selectedTypeId, select2: { width: '100%', placeholder: 'select category' }">
                    <option data-bind="text: Name(), value: TypeId"></option>
                </select>

                <button class="btn btn-default col-xs-2" data-bind="click:search">Search</button>
            </div>
            <div class="row">
                <span class="col-xs-8">
                    <span data-bind="text: test"></span>
                    <span>Last refresh: </span>
                    <span data-bind="localizedDateTime: lastRefresh()"></span>
                </span>
            </div>

            <!-- transparent footer-->
            <div data-role="footer" class="ui-bar" data-theme="f" data-position="fixed" style="text-align:center;">
                <!-- small status-button -->
                <a style="text-align:right;" id="popupInfoButton" href="#popupInfo"
                   data-rel="popup" data-role="button" class="ui-icon-alt" data-inline="true" data-transition="pop" data-icon="alert" data-theme="e" data-iconpos="notext">Log</a>

                <!-- popup displayed when button clicked -->
                <div data-role="popup" id="popupInfo" class="ui-content" data-theme="e" style="max-width:350px;">
                    <p style="text-align:right;" id="status-message">Trying to find out where you are</p>
                </div>

            </div>
            <div data-role="panel" id="panel-poidetail" data-position="right" data-display="overlay" style="background-color:#F0F0F0;" data-theme="c">
                <div data-role="header" data-theme="c">
                    <a href="#header" data-rel="close">Close</a>
                </div>
                <div data-role="content">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 data-bind="text: currentMarkerDetails().title"></h3>
                        </div>
                        <div class="panel-body">
                            <div>
                                Author:
                                <span data-bind="text: currentMarkerDetails().author"></span>
                            </div>
                            <h4 data-bind="text: currentMarkerDetails().description"></h4>
                            <h4>Distance: <a id="poi-detail-distance"></a></h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>

</html>